\newcommand{\DocTitle}{AstraKernel Documentation}
\newcommand{\DocAuthor}{Chris Dedman}
\title{\DocTitle}
\author{\DocAuthor}
\date{2025-05-19}
% -----------------------------------------------------

% Layout: 1-inch margins all around
\geometry{letterpaper, margin=1in}

%— Base pagestyle: no headers, footer at center
\fancypagestyle{base}{
  \fancyhf{}
  \cfoot{\thepage}
  \renewcommand{\headrulewidth}{0pt}
}

%— Preliminary pages (uses 'base', but moves foot up)
\fancypagestyle{prelim}{
  \fancypagestyle{base}% inherit
  \setlength{\footskip}{0.5in}
}

%— Main body pages (page number in header)
\fancypagestyle{main}{
  \fancypagestyle{base}% inherit
  \fancyhead[R]{\thepage}
  \setlength{\headsep}{0.5in}
}


% Code style
\definecolor{codegray}{gray}{0.95}
\definecolor{darkergreen}{RGB}{0,100,0}
\lstset{
    basicstyle=\ttfamily\scriptsize,
    keywordstyle=\color{blue},
    stringstyle=\color{red},
    commentstyle=\color{darkergreen},
    numbers=left,
    numberstyle=\tiny\color{gray},
    stepnumber=1,
    numbersep=5pt,
    backgroundcolor=\color{codegray},
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    frame=lines,
    framerule=0.5pt,
    tabsize=2,
    captionpos=b,
    breaklines=true,
    keepspaces=true,
    breakatwhitespace=false,
    escapeinside={\%*}{*)}
}

\hyphenation{op-tical net-works semi-conduc-tor}

\renewcommand{\thesection}{\Roman{section}.}
\renewcommand{\thesubsection}{\Alph{subsection}.}

\newcommand{\code}[1]{\texttt{\textcolor{blue}{#1}}}
\makeatletter
% === redefine \section so it has less (even negative) vertical space before it
\renewcommand\section{%
  \@startsection{section}% <name>
    {1}%               <level>
    {\z@}%             <indent>
    {-3ex \@plus -1ex \@minus -.2ex}%  <beforeskip>
    {1ex \@plus .2ex}%                <afterskip>
    {\normalfont\Large\bfseries}%     <style>
}
\makeatother

% Customizing captions
\captionsetup{font=small, labelfont=bf}

% HYPERLINKS & METADATA
\hypersetup{
  pdftitle   = {\@DocTitle},
  pdfauthor  = {\@DocAuthor},
  pdfkeywords = {AstraKernel, Documentation, LaTeX},
  pdfsubject = {AstraKernel Documentation},
  colorlinks=true,
  citecolor=magenta,
  linkcolor=blue,
  filecolor=green,      
  urlcolor=cyan,
}

% Custom command for INFO boxes
\makeatletter
\newenvironment{info}{%
  \par\medskip
  \noindent\textbf{INFO:}\quad%
  \begin{quote}%
}{%
  \end{quote}\par\medskip
}
\makeatother

% Custom command for NOTE boxes
\makeatletter
\newenvironment{note}{%
  \par\medskip
  \noindent\textbf{NOTE:}\quad%
  \begin{quote}%
}{%
  \end{quote}\par\medskip
}
\makeatother